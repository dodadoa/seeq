<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="src/links/style.css">
    <link rel="stylesheet" href="src/links/fonts.css">
    <script src="node_modules/mark.js/dist/mark.min.js"></script>
    <script src="node_modules/socket.io-client/dist/socket.io.js"></script>
    <script src="./src/libs/lineWrapDetector.js"></script>
    <script src="./src/scripts/sequencer.js"></script>
    <script src="./src/scripts/midi.js"></script>
    <script src="./src/scripts/data.js"></script>
    <script src="./src/scripts/Seeq.js"></script>
    <style>
      ::selection {
        background: yellow;
      }
    </style>
    <meta charset="UTF-8">
    <title>Letter Sequencer</title>
  </head>
  <body>
    <script>
        const {dialog,app} = require('electron').remote;

        const fs = require('fs');
        const OSC = require('osc-js')
        const axios = require('axios');
        var socket = io('http://localhost:3000');
        const WebMidi = require('WebMidi')
        
        const options = { send: { port: 8000 } }
        const osc = new OSC({ plugin: new OSC.DatagramPlugin(options) })
        var seeq = new Seeq();
       
        seeq.start();
        socket.on('beat', function (data) {
          const { beat, bpm } = data
          seeq.seq.connect( data )
          // if(beat){
          //   seeq.seq.midiTrigger()
          // }
        }); 

        socket.on('bpmchange', function(data){
          const { bpm } = data
          seeq.setBPMdisplay(Math.round( bpm )) 
        })

    </script>
  </body>
</html>
